<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VaccinationTracker - Child Vaccination Schedule</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/responsive.css">
  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#3b82f6">
  <meta name="description" content="Track your child's vaccination schedule with ease">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="assets/images/icon-192.png">
</head>
<body class="gradient-bg min-h-screen py-8">
  <div class="max-w-3xl mx-auto px-4">
    <header class="text-center mb-8">
      <h1 class="text-4xl font-bold text-gray-800">Child Vaccination Tracker</h1>
      <p class="text-gray-600 mt-2 text-lg">Based on IAP 2024 Schedule</p>
    </header>

    <!-- Combined Welcome and Input Card -->
    <div id="inputCard" class="combined-card mb-6">
      <div id="editableView">
        <h2 class="text-2xl font-bold text-gray-800 mb-1">Welcome!</h2>
        <p class="text-gray-600 mb-4">Track your child's vaccination schedule with ease.</p>
        
        <!-- Country Name moved to top right corner -->
        <div class="absolute top-4 right-4">
          <p class="text-sm font-medium text-gray-700">Country: <span class="font-semibold text-gray-800">India</span></p>
        </div>

        <div class="flex flex-col sm:flex-row items-end gap-4 mt-8">
          <div class="flex-1 w-full">
            <label for="nameInput" class="text-sm font-medium text-gray-700">Child's Name</label>
            <input id="nameInput" type="text" placeholder="Enter name" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none" />
          </div>
          <div class="flex-1 w-full">
            <label for="dobInput" class="text-sm font-medium text-gray-700">Date of Birth</label>
            <input id="dobInput" type="date" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none" />
          </div>
          <div class="flex flex-col sm:flex-row gap-3 mt-4">
            <button id="cancelEditBtn" class="w-full sm:w-auto bg-gray-300 text-gray-800 px-6 py-3 rounded-md hover:bg-gray-400 transition duration-200 ease-in-out transform hover:scale-105 shadow-md hidden">Cancel</button>
            <button id="generateBtn" class="w-full sm:w-auto bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition duration-200 ease-in-out transform hover:scale-105 shadow-md">Generate Schedule</button>
          </div>
        </div>
        <p id="errorMsg" class="error-text hidden text-sm mt-2">Please enter name and valid date.</p>
      </div>

      <div id="readOnlyView" class="hidden">
        <h2 class="text-2xl font-bold text-gray-800 mb-2">Welcome!</h2>
        <!-- Country Name moved to top right corner -->
        <div class="absolute top-4 right-4">
          <p class="text-sm font-medium text-gray-700">Country: <span class="font-semibold text-gray-800">India</span></p>
        </div>
        <div class="flex items-center justify-between mt-2">
          <div class="flex items-center gap-2 flex-wrap">
            <p class="text-base text-gray-600">Tracking schedule for:</p>
            <span id="childNameDisplay" class="text-xl font-bold text-gray-800"></span>
            <span class="text-gray-600">|</span>
            <span id="childDobDisplay" class="text-gray-600 text-lg"></span>
          </div>
          <div class="flex items-center gap-2">
            <!-- New button to download the calendar file -->
            <button id="downloadCalendarBtn" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition duration-200 ease-in-out transform hover:scale-105 shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block -mt-0.5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm1.293 8.293a1 1 0 001.414 1.414L10 9.414l1.293 1.293a1 1 0 001.414-1.414l-2-2a1 1 0 00-1.414 0l-2 2z" clip-rule="evenodd" />
                </svg>
                Download Calendar
            </button>
            <button id="editBtn" class="p-2 rounded-full hover:bg-gray-100 transition duration-200 ease-in-out">
              <svg class="w-6 h-6 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Schedule Output -->
    <div id="scheduleOutput" class="space-y-4"></div>
  </div>

  <!-- Loading Spinner -->
  <div id="loadingSpinner" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white p-6 rounded-lg shadow-lg">
      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"></div>
      <p class="mt-2 text-gray-600">Generating schedule...</p>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/storage.js"></script>
  <script src="js/validation.js"></script>
  <script src="js/app.js"></script>
</body>
</html> 